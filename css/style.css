:root{
  --bg: #06130f;
  --surface: rgba(255,255,255,.08);
  --surface2: rgba(255,255,255,.10);
  --line: rgba(255,255,255,.10);
  --text: #e8f2ef;
  --muted: rgba(232,242,239,.75);

  --brand: #1fb86a;
  --brand2: #15a55c;

  --danger: #ff4d4d;
  --ok: #36d77f;

  --radius: 18px;
  --shadow: 0 18px 50px rgba(0,0,0,.45);

  --max: 1200px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: radial-gradient(1200px 700px at 30% 20%, rgba(31,184,106,.35), transparent 55%),
              radial-gradient(1000px 650px at 80% 80%, rgba(0,140,255,.18), transparent 60%),
              var(--bg);
  color: var(--text);
}

.topbar{
  position: sticky;
  top:0;
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 18px;
  background: rgba(0,0,0,.25);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--line);
}
.topbar--hidden{display:none}

.brand{display:flex; gap:12px; align-items:center;}
.brand__icon{
  width:42px; height:42px;
  display:grid; place-items:center;
  border-radius: 14px;
  background: rgba(255,255,255,.10);
  box-shadow: var(--shadow);
}
.brand__title{font-weight:800; letter-spacing:.2px}
.brand__subtitle{font-size:12px; color: var(--muted); margin-top:2px}

.topbar__right{display:flex; align-items:center; gap:10px;}

.net{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.06);
  user-select:none;
}
.net__dot{
  width:10px; height:10px; border-radius:999px;
  background: var(--danger);
  box-shadow: 0 0 0 4px rgba(255,77,77,.15);
}
.net--online .net__dot{
  background: var(--ok);
  box-shadow: 0 0 0 4px rgba(54,215,127,.15);
}
.net__text{font-size:12px; color: var(--muted);}

.iconBtn{
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
  color: var(--text);
  border-radius: 14px;
  padding: 10px 12px;
  cursor:pointer;
}

.drawer{position:fixed; inset:0; z-index:50;}
.drawer--hidden{display:none}
.drawer__backdrop{
  position:absolute; inset:0;
  background: rgba(0,0,0,.45);
}
.drawer__panel{
  position:absolute;
  right: 14px;
  top: 14px;
  width: min(340px, calc(100vw - 28px));
  border-radius: 18px;
  background: rgba(0,0,0,.45);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(18px);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.drawer__header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 12px;
  border-bottom: 1px solid rgba(255,255,255,.10);
}
.drawer__title{font-weight:800}
.drawer__user{padding: 12px 12px;}
.drawer__userLabel{font-size:12px; color: var(--muted)}
.drawer__userEmail{margin-top:6px; font-size:13px; color: var(--text); word-break: break-word;}
.drawer__nav{display:flex; flex-direction:column; gap:8px; padding: 0 12px 12px;}
.navItem{
  width:100%;
  text-align:left;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--text);
  cursor:pointer;
}
.navItem--active{
  background: rgba(31,184,106,.18);
  border-color: rgba(31,184,106,.35);
}
.drawer__footer{
  padding: 12px;
  border-top: 1px solid rgba(255,255,255,.10);
}

.page{max-width: var(--max); margin: 0 auto; padding: 22px 16px 34px;}
.card{
  border: 1px solid var(--line);
  background: var(--surface);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
}
.authCard{max-width: 520px; margin: 26px auto 0;}
.authBrand{display:grid; justify-items:center; margin-bottom: 12px;}
.authBrand__icon{width:54px;height:54px;display:grid;place-items:center;border-radius:18px;background:rgba(255,255,255,.10);box-shadow:var(--shadow);font-size:26px}
.authBrand__title{margin-top:10px;font-weight:900;font-size:20px}
.authBrand__subtitle{margin-top:4px;color:var(--muted);font-size:13px}

.h1{margin:0 0 8px; font-size: 34px;}
.h2{margin:0 0 10px; font-size: 20px;}
.muted{color: var(--muted);}
.small{font-size: 12px;}
.w100{width:100%}

.field{display:flex; flex-direction:column; gap:8px; margin-top:12px;}
label{font-size: 13px; color: var(--muted);}
input,select{
  width:100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
  outline: none;
}
input::placeholder{color: rgba(232,242,239,.45);}
.row{display:flex; align-items:center;}
.row--gap{gap:10px; margin-top:14px; flex-wrap:wrap;}

.btn{
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 999px;
  padding: 11px 14px;
  cursor:pointer;
  color: var(--text);
  background: rgba(255,255,255,.06);
}
.btn:disabled{opacity:.45; cursor:not-allowed;}
.btn--primary{
  background: linear-gradient(180deg, var(--brand), var(--brand2));
  border-color: rgba(0,0,0,.15);
  font-weight: 800;
}
.btn--secondary{background: rgba(255,255,255,.08);}
.btn--google{font-weight:800}

.divider{margin: 14px 0; height:1px; background: var(--line);}

.msg{
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  color: var(--text);
  white-space: pre-wrap;
}
.msg--hidden{display:none;}

.app--hidden{display:none;}

.view{display:none;}
.view--active{display:block;}

.grid{display:grid; grid-template-columns: 1fr 1.2fr; gap: 16px; align-items:start;}
.mapCard{padding: 12px;}
.map{
  height: 680px;
  border-radius: 16px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
}

.stats{display:grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 14px;}
.stat{
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 16px;
  padding: 12px 14px;
  background: rgba(0,0,0,.14);
}
.stat__label{font-size:12px; color: var(--muted);}
.stat__value{font-size:20px; font-weight:900; margin-top:6px;}

.hint{
  margin-top: 12px;
  font-size: 13px;
  color: rgba(232,242,239,.8);
  border: 1px dashed rgba(255,255,255,.18);
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(0,0,0,.12);
}

.nestList{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 10px;
  margin-top: 12px;
}
.nestItem{
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  overflow:hidden;
  background: rgba(0,0,0,.14);
}
.nestItem img{width:100%; height: 92px; object-fit: cover; display:block;}
.nestItem .meta{padding: 8px 10px; font-size: 12px; color: var(--muted);}
.nestItem .meta strong{color: var(--text);}

.list{display:flex; flex-direction:column; gap:10px; margin-top:12px;}
.item{
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 16px;
  background: rgba(0,0,0,.14);
  padding: 12px;
}
.item__top{display:flex; justify-content:space-between; gap:12px; align-items:flex-start;}
.item__title{font-weight:900;}
.item__sub{color: var(--muted); font-size:12px; margin-top:4px;}
.item__actions{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;}

@media (max-width: 980px){
  .grid{grid-template-columns: 1fr;}
  .map{height: 420px;}
}
