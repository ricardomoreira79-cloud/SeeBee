<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SeeBee ‚Äî Rastreador de ninhos</title>

    <link rel="stylesheet" href="./css/style.css" />

    <!-- Leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
  </head>

  <body>
    <header class="topbar">
      <div class="brand">
        <div class="brand_logo">üêù</div>
        <div class="brand_text">
          <div class="brand_title">SeeBee</div>
          <div class="brand_subtitle">Rastreador de ninhos</div>
        </div>
      </div>

      <div class="topbar_right">
        <div id="userEmail" class="user_email"></div>
        <button id="btnLogout" class="btn btn_ghost">Sair</button>
      </div>
    </header>

    <main class="shell">
      <!-- AUTH -->
      <section id="authScreen" class="auth_screen">
        <div class="auth_card">
          <h2>Entrar</h2>
          <p>Use seu e-mail e senha (Supabase Auth).</p>

          <label class="field">
            <span>E-mail</span>
            <input id="loginEmail" type="email" placeholder="seuemail@..." />
          </label>

          <label class="field">
            <span>Senha</span>
            <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          </label>

          <div class="row gap">
            <button id="btnLogin" class="btn btn_primary">Entrar</button>
            <button id="btnSignup" class="btn btn_soft">Criar conta</button>
          </div>

          <div id="authMsg" class="msg"></div>
        </div>
      </section>

      <!-- APP -->
      <section id="appScreen" class="app_screen hidden">
        <div class="grid">
          <div class="col_left">
            <section class="card">
              <h3>Trajeto</h3>
              <p class="muted">Inicie o trajeto e depois marque ninhos com observa√ß√£o e foto.</p>

              <div class="row gap">
                <button id="btnStartRoute" class="btn btn_primary">Iniciar trajeto</button>
                <button id="btnFinishRoute" class="btn btn_soft" disabled>Finalizar trajeto</button>
              </div>

              <div class="stats">
                <div class="stat">
                  <div class="stat_label">Dist√¢ncia</div>
                  <div id="statDistance" class="stat_value">0 m</div>
                </div>
                <div class="stat">
                  <div class="stat_label">√öltima posi√ß√£o</div>
                  <div id="statPos" class="stat_value">‚Äî</div>
                </div>
              </div>

              <div id="routeMsg" class="msg"></div>
            </section>

            <section class="card">
              <h3>Marcar ninho</h3>

              <label class="field">
                <span>Observa√ß√£o</span>
                <input id="nestObs" type="text" placeholder="Ex.: entrada ativa, √°rvore X, sombra, sinais..." />
              </label>

              <label class="field">
                <span>Status</span>
                <select id="nestStatus">
                  <option value="DEPLOYED">DEPLOYED</option>
                  <option value="PLANNED">PLANNED</option>
                  <option value="OCCUPIED">OCCUPIED</option>
                  <option value="REMOVED">REMOVED</option>
                  <option value="REDEPLOYED">REDEPLOYED</option>
                  <option value="FAILED">FAILED</option>
                  <option value="UNKNOWN">UNKNOWN</option>
                </select>
              </label>

              <label class="field">
                <span>Foto (opcional)</span>
                <input id="nestPhoto" type="file" accept="image/*" capture="environment" />
              </label>

              <button id="btnMarkNest" class="btn btn_primary" disabled>Marcar ninho</button>

              <div id="nestMsg" class="msg"></div>
            </section>
          </div>

          <div class="col_right">
            <section class="map_card">
              <div id="map" class="map"></div>
            </section>
          </div>
        </div>
      </section>
    </main>

    <!-- Leaflet -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
